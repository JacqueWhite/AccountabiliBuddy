<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Fit Friend</title>

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>

  <script>
     $(document).ready(function() {
        $('select').material_select();
     });
  </script>
</head>

<body>
    <nav class="white" role="navigation">
    <div class="nav-wrapper container">
      <a id="logo-container" href="#" class="brand-logo">Fit Friend</a>
      <ul class="right hide-on-med-and-down">
        <li><a href="#">Sign Up</a></li>
      </ul>

      <ul id="nav-mobile" class="side-nav">
        <li><a href="#">Sign Up</a></li>
      </ul>
      <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
    </div>
  </nav>


	<div class="container">

		<h2>Survey Questions</h2>

		<h4><strong>About You</strong></h4>
		<h5>Name (Required)</h5>
		<input type="text" name="" id="name" class="form-control" required >

		<h5>Link to Photo Image (Required)</h5>
		<input type="text" name="" id="photo" class="form-control" required >

		<h4><strong>Question 1</strong></h4>
		<h5>You workout for stress reduction.</h5>
	 	<select data-placeholder="" class="browser-default" id="q1">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<h4><strong>Question 2</strong></h4>
		<h5>You workout for weight loss.</h5>
	 	<select data-placeholder="" class="browser-default" id="q2">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>


		<h4><strong>Question 3</strong></h4>
		<h5>You enjoy yoga.</h5>
	 	<select data-placeholder="" class="browser-default" id="q3">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>


		<h4><strong>Question 4</strong></h4>
		<h5>You enjoy lifting weights</h5>
	 	<select data-placeholder="" class="browser-default" id="q4">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>


		<h4><strong>Question 5</strong></h4>
		<h5>You feel confident in the gym.</h5>
	 	<select data-placeholder="" class="browser-default" id="q5">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>


		<h4><strong>Question 6</strong></h4>
		<h5>You enjoy group exercise classes.</h5>
	 	<select data-placeholder="" class="browser-default" id="q6">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>


		<h4><strong>Question 7</strong></h4>
		<h5>You enjoy sprints and HIIT.</h5>
	 	<select data-placeholder="" class="browser-default" id="q7">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<h4><strong>Question 8</strong></h4>
		<h5>You enjoy cardio.</h5>
	 	<select data-placeholder="" class="browser-default" id="q8">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<h4><strong>Question 9</strong></h4>
		<h5>I am a morning person.</h5>
	 	<select data-placeholder="" class="browser-default" id="q9">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

		<h4><strong>Question 10</strong></h4>
		<h5>What days do you plan to workout?</h5>
	 	<select data-placeholder="" class="browser-default" id="q10">
	 		<option value=""></option>
            <option value="1">Monday / Wednesday</option>
            <option value="2">Tuesday / Thursday</option>
            <option value="3">Friday</option>
            <option value="4">Saturday / Sunday</option>
            <option value="5">Any days</option>
      	</select>

		<br>
		<br>

		<!-- Submit Button -->
		<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>
 Submit</button>

		<hr>
	    <footer class="footer">
	      <div class="container">
		        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/jacquewhite/Friendfinder" target="_blank">GitHub Repo</a></p>
	      </div>
	    </footer>

	</div>

	<!-- Modal -->
	<div id="resultsModal" class="modal fade" role="dialog">
	  <div class="modal-dialog">

	    <!-- Modal content-->
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal">&times;</button>
	        <h2 class="modal-title"><strong>Best Match</strong></h2>
	      </div>
	      <div class="modal-body">
	        <h2 id="matchName"></h2>
	        <img id="matchImg" src="https://scontent-dft4-1.xx.fbcdn.net/v/t1.0-9/540322_10150864427111871_1381072404_n.jpg?oh=33b4d3ca0b75d11938af570c395e6ced&oe=5A422463" alt="">
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	      </div>
	    </div>

	  </div>
	</div>

  <script type="text/javascript">

    // Capture the form inputs 
    $("#submit").on("click", function(){

    	// Form validation
    	function validateForm() {
		  var isValid = true;
		  $('.form-control').each(function() {
		    if ( $(this).val() === '' )
		        isValid = false;
		  });

		  $('.browser-default').each(function() {

		  	if( $(this).val() === "")
		  		isValid = false
		  })
		  return isValid;
		}

		// If all required fields are filled
		if (validateForm() == true)
		{
			// Create an object for the user's data
	    	var userData = {
	    		name: $("#name").val(),
	    		photo: $("#photo").val(),
	    		scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(),
	    		 $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val(), ]
	    	}


	    	// Grab the URL of the website
	    	var currentURL = window.location.origin;
	    	// console.log(userData);

	    	// AJAX post the data to the friends API. 
	    	$.post(currentURL + "/api/friends", userData, function(data){

	    		// Grab the result from the AJAX post so that the best match's name and photo are displayed.
	    		$("#matchName").text(data.name);
	    		$('#matchImg').attr("src", data.photo);
 
		    	// Show the modal with the best match 
		    	$("#resultsModal").modal("toggle");

	    	});
		}
		else
		{
			alert("Please fill out all fields before submitting!");
		}
    	
    	return false;
    });


  </script>


    <div class="footer-copyright">
      <div class="container">
      AccountabiliBuddy 2017
      </div>
    </div>
  </footer>


  <!--  Scripts-->
  <script src="js/materialize.js"></script>
  <script src="js/init.js"></script>

  </body>
</html>
</body>